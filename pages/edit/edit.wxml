<!--edit.wxml - ä¸‰çº§æ¼æ–—äº¤äº’æ¨¡å‹-->
<view class="container">
  <!-- Image Preview -->
  <view class="preview-section">
    <image class="preview-image" src="{{imagePath}}" mode="aspectFit"></image>
  </view>

  <!-- ä¸€çº§ï¼šå¤§å¸ˆæ»¤é•œ -->
  <view class="level-section">
    <view class="section-header">
      <text class="section-title">å¤§å¸ˆæ»¤é•œ</text>
    </view>
    <scroll-view class="master-scroll" scroll-x>
      <view class="master-item {{currentMaster === item.id ? 'active' : ''}}" 
            wx:for="{{masterFilters}}" wx:key="id"
            bindtap="selectMaster" data-id="{{item.id}}">
        <view class="master-name">{{item.name}}</view>
        <view class="master-style">{{item.style}}</view>
      </view>
    </scroll-view>
  </view>

  <!-- äºŒçº§ï¼šæ ¸å¿ƒå‚æ•° -->
  <view class="level-section">
    <view class="section-header">
      <text class="section-title">æ ¸å¿ƒè°ƒèŠ‚</text>
    </view>
    <view class="core-params">
      <view class="param-item" wx:for="{{coreParams}}" wx:key="id">
        <view class="param-label">{{item.name}}</view>
        <slider value="{{item.value}}" min="0" max="100" 
                bindchange="onParamChange" data-id="{{item.id}}"
                activeColor="#2D5F3F"/>
      </view>
    </view>
  </view>

  <!-- ä¸‰çº§ï¼šé«˜çº§å‚æ•° -->
  <view class="level-section advanced-section {{advancedExpanded ? 'expanded' : ''}}">
    <view class="section-header" bindtap="toggleAdvanced">
      <text class="section-title">é«˜çº§å‚æ•°</text>
      <text class="expand-arrow">â€º</text>
    </view>
    <view class="advanced-params" wx:if="{{advancedExpanded}}">
      <view class="param-item" wx:for="{{advancedParams}}" wx:key="id">
        <view class="param-label">{{item.name}}</view>
        <slider value="{{item.value}}" min="0" max="100" 
                disabled="{{item.locked}}"
                activeColor="#2D5F3F"/>
        <view class="lock-badge" wx:if="{{item.locked}}">ğŸ”’ {{item.tier}}</view>
      </view>
    </view>
  </view>

  <!-- Actions -->
  <view class="actions">
    <button class="btn-secondary" bindtap="cancel">å–æ¶ˆ</button>
    <button class="btn-primary" bindtap="save">ä¿å­˜</button>
  </view>
</view>
