<!--membership.wxml-->
<view class="container">
  <!-- Header -->
  <view class="header">
    <view class="header-title">ä¼šå‘˜ä¸­å¿ƒ</view>
    <view class="header-subtitle">è§£é”å…¨éƒ¨ä¸“ä¸šåŠŸèƒ½</view>
  </view>

  <!-- Current Membership -->
  <view class="current-membership">
    <view class="current-badge" style="background: {{currentMembershipInfo.color}}">
      <text class="badge-icon">{{currentMembershipInfo.icon}}</text>
      <text class="badge-name">{{currentMembershipInfo.name}}</text>
    </view>
    <view class="current-expire" wx:if="{{expireDate}}">
      æœ‰æ•ˆæœŸè‡³ï¼š{{expireDate}}
    </view>
  </view>

  <!-- Membership Tiers -->
  <view class="tiers-section">
    <view class="tier-card {{currentTier === 'free' ? 'active' : ''}}" bindtap="selectTier" data-tier="free">
      <view class="tier-header">
        <text class="tier-icon">ğŸŒ±</text>
        <view class="tier-info">
          <view class="tier-name">å…è´¹ç‰ˆ</view>
          <view class="tier-price">å…è´¹ä½¿ç”¨</view>
        </view>
      </view>
      <view class="tier-features">
        <view class="feature-item" wx:for="{{freeTierFeatures}}" wx:key="index">
          <text class="feature-icon">âœ“</text>
          <text class="feature-text">{{item}}</text>
        </view>
      </view>
      <button class="tier-btn tier-btn-free" wx:if="{{currentTier === 'free'}}">å½“å‰ç‰ˆæœ¬</button>
    </view>

    <view class="tier-card tier-card-pro {{currentTier === 'pro' ? 'active' : ''}}" bindtap="selectTier" data-tier="pro">
      <view class="tier-badge">æ¨è</view>
      <view class="tier-header">
        <text class="tier-icon">ğŸŒ²</text>
        <view class="tier-info">
          <view class="tier-name">ä¸“ä¸šç‰ˆ</view>
          <view class="tier-price">Â¥98<text class="price-unit">/æœˆ</text></view>
        </view>
      </view>
      <view class="tier-features">
        <view class="feature-item" wx:for="{{proTierFeatures}}" wx:key="index">
          <text class="feature-icon">âœ“</text>
          <text class="feature-text">{{item}}</text>
        </view>
      </view>
      <button class="tier-btn tier-btn-pro" wx:if="{{currentTier !== 'pro'}}" bindtap="upgradeToPro">
        ç«‹å³å‡çº§
      </button>
      <button class="tier-btn tier-btn-pro" wx:else>å½“å‰ç‰ˆæœ¬</button>
    </view>

    <view class="tier-card tier-card-master {{currentTier === 'master' ? 'active' : ''}}" bindtap="selectTier" data-tier="master">
      <view class="tier-badge tier-badge-master">å¤§å¸ˆä¸“å±</view>
      <view class="tier-header">
        <text class="tier-icon">ğŸ‘‘</text>
        <view class="tier-info">
          <view class="tier-name">å¤§å¸ˆç‰ˆ</view>
          <view class="tier-price">Â¥298<text class="price-unit">/æœˆ</text></view>
        </view>
      </view>
      <view class="tier-features">
        <view class="feature-item" wx:for="{{masterTierFeatures}}" wx:key="index">
          <text class="feature-icon">âœ“</text>
          <text class="feature-text">{{item}}</text>
        </view>
      </view>
      <button class="tier-btn tier-btn-master" wx:if="{{currentTier !== 'master'}}" bindtap="upgradeToMaster">
        ç«‹å³å‡çº§
      </button>
      <button class="tier-btn tier-btn-master" wx:else>å½“å‰ç‰ˆæœ¬</button>
    </view>
  </view>

  <!-- Feature Comparison -->
  <view class="comparison-section">
    <view class="section-title">åŠŸèƒ½å¯¹æ¯”</view>
    <view class="comparison-table">
      <view class="comparison-row comparison-header">
        <view class="comparison-cell">åŠŸèƒ½</view>
        <view class="comparison-cell">å…è´¹ç‰ˆ</view>
        <view class="comparison-cell">ä¸“ä¸šç‰ˆ</view>
        <view class="comparison-cell">å¤§å¸ˆç‰ˆ</view>
      </view>
      <view class="comparison-row" wx:for="{{comparisonData}}" wx:key="feature">
        <view class="comparison-cell comparison-feature">{{item.feature}}</view>
        <view class="comparison-cell">{{item.free}}</view>
        <view class="comparison-cell">{{item.pro}}</view>
        <view class="comparison-cell">{{item.master}}</view>
      </view>
    </view>
  </view>

  <!-- FAQ -->
  <view class="faq-section">
    <view class="section-title">å¸¸è§é—®é¢˜</view>
    <view class="faq-item" wx:for="{{faqList}}" wx:key="index" bindtap="toggleFaq" data-index="{{index}}">
      <view class="faq-question">
        <text>{{item.question}}</text>
        <text class="faq-arrow {{item.expanded ? 'expanded' : ''}}">â€º</text>
      </view>
      <view class="faq-answer {{item.expanded ? 'show' : ''}}">
        {{item.answer}}
      </view>
    </view>
  </view>
</view>
