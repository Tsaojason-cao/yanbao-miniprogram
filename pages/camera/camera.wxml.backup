<!--camera.wxml-->
<view class="container">
  <camera 
    device-position="{{devicePosition}}" 
    flash="{{flash}}"
    class="camera-view"
    bindstop="onCameraStop"
    binderror="onCameraError">
    
    <!-- é¡¶éƒ¨æ§åˆ¶æ  -->
    <view class="camera-controls-top">
      <view class="control-item" bindtap="toggleFlash">
        <view class="control-icon">{{flash === 'off' ? 'âš¡ï¸' : 'ğŸ’¡'}}</view>
        <view class="control-label">é—ªå…‰ç¯</view>
      </view>
      <view class="control-item" bindtap="toggleCamera">
        <view class="control-icon">ğŸ”„</view>
        <view class="control-label">ç¿»è½¬</view>
      </view>
    </view>

    <!-- ç›¸æœºå‚æ•°æ˜¾ç¤º -->
    <view class="camera-params">
      <view class="param-item">ISO {{iso}}</view>
      <view class="param-item">{{shutter}}</view>
      <view class="param-item">WB {{whiteBalance}}K</view>
    </view>

    <!-- ç¾é¢œæ»‘å— -->
    <view class="beauty-slider">
      <view class="slider-label">7Dç¾é¢œ</view>
      <slider 
        value="{{beautyLevel}}" 
        min="0" 
        max="100" 
        bindchange="onBeautyChange"
        activeColor="#EC4899"
        backgroundColor="rgba(255,255,255,0.3)"
        block-size="20"
      />
      <view class="slider-value">{{beautyLevel}}</view>
    </view>

    <!-- åº•éƒ¨æ‹æ‘„æŒ‰é’® -->
    <view class="camera-controls-bottom">
      <view class="gallery-btn" bindtap="goToGallery">
        <view class="gallery-icon">ğŸ–¼ï¸</view>
      </view>
      <view class="shutter-btn" bindtap="takePhoto">
        <view class="shutter-inner"></view>
      </view>
      <view class="mode-btn" bindtap="showModeSelector">
        <view class="mode-icon">âš™ï¸</view>
      </view>
    </view>
  </camera>

  <!-- æ‹æ‘„æ¨¡å¼é€‰æ‹©å™¨ -->
  <view class="mode-selector" wx:if="{{showModes}}">
    <view class="mode-overlay" bindtap="hideModeSelector"></view>
    <view class="mode-panel">
      <view class="mode-title">æ‹æ‘„æ¨¡å¼</view>
      <view class="mode-list">
        <view class="mode-item {{currentMode === 'auto' ? 'active' : ''}}" bindtap="selectMode" data-mode="auto">
          <view class="mode-name">è‡ªåŠ¨</view>
        </view>
        <view class="mode-item {{currentMode === 'pro' ? 'active' : ''}}" bindtap="selectMode" data-mode="pro">
          <view class="mode-name">ä¸“ä¸š</view>
        </view>
        <view class="mode-item {{currentMode === 'portrait' ? 'active' : ''}}" bindtap="selectMode" data-mode="portrait">
          <view class="mode-name">äººåƒ</view>
        </view>
        <view class="mode-item {{currentMode === 'landscape' ? 'active' : ''}}" bindtap="selectMode" data-mode="landscape">
          <view class="mode-name">é£æ™¯</view>
        </view>
      </view>
    </view>
  </view>
</view>
