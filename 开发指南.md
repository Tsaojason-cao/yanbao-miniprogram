# Sanmu AI 微信小程序开发指南

## 快速开始

### 1. 下载项目
```bash
git clone https://github.com/Tsaojason-cao/sanmu-miniprogram.git
cd sanmu-miniprogram
```

### 2. 准备开发工具
1. 下载[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 安装并打开微信开发者工具
3. 使用微信扫码登录

### 3. 导入项目
1. 点击"导入项目"
2. 选择项目目录
3. AppID选择"测试号"（或填入自己的AppID）
4. 项目名称：Sanmu AI
5. 点击"导入"

### 4. 开始开发
- 修改代码后自动编译刷新
- 在模拟器中预览效果
- 点击"预览"扫码在真机测试

## 必需的图片资源

由于GitHub仓库中未包含图片资源，需要手动添加以下图片到`images`目录：

### TabBar图标（必需）
```
images/
├── tab-home.png           # 首页图标（未选中）
├── tab-home-active.png    # 首页图标（选中）
├── tab-camera.png         # 相机图标（未选中）
├── tab-camera-active.png  # 相机图标（选中）
├── tab-gallery.png        # 相册图标（未选中）
├── tab-gallery-active.png # 相册图标（选中）
├── tab-spots.png          # 机位图标（未选中）
├── tab-spots-active.png   # 机位图标（选中）
├── tab-settings.png       # 设置图标（未选中）
└── tab-settings-active.png # 设置图标（选中）
```

**尺寸要求**: 81px × 81px（推荐使用3倍图）

### Logo图片（必需）
```
images/logo.png            # 应用Logo，用于首页和设置页
```

**尺寸要求**: 200px × 200px

### 机位照片（可选，用于演示）
```
images/
├── spot-1.jpg             # 西湖断桥
├── spot-2.jpg             # 雷峰塔
└── spot-3.jpg             # 三潭印月
```

**尺寸要求**: 750px × 500px（宽高比3:2）

### LUT预设缩略图（可选，用于演示）
```
images/
├── lut-cinematic.jpg      # 电影感
├── lut-japanese.jpg       # 日系
├── lut-korean.jpg         # 韩系
├── lut-fuji.jpg           # 富士CCD
├── lut-vintage.jpg        # 复古胶片
├── lut-portra.jpg         # 柔和人像
├── lut-bw.jpg             # 经典黑白
├── lut-warm.jpg           # 暖色调
├── lut-cool.jpg           # 冷色雾
├── lut-faded.jpg          # 褪色
├── lut-teal.jpg           # 青橙
└── lut-modern.jpg         # 现代风格
```

**尺寸要求**: 200px × 200px

## 图片资源生成方法

### 方法1：使用占位图（快速测试）
```bash
# 在images目录下创建占位图
cd images
# 使用在线占位图服务
# 例如：https://via.placeholder.com/81x81.png
```

### 方法2：从官网下载
访问[Sanmu AI官网](https://tsaojason-cao.github.io/sanmu-screenshots-showcase/)，右键保存相关图片。

### 方法3：使用设计工具
使用Figma/Sketch/Photoshop等设计工具，按照库洛米主题（紫色#8B5CF6 + 粉色#EC4899）设计图标。

## 常见问题

### Q1: 导入项目后TabBar不显示
**原因**: 缺少TabBar图标文件

**解决方案**: 
1. 在`images`目录下添加所有TabBar图标
2. 或者临时注释掉`app.json`中的`tabBar`配置

### Q2: 相机页面打开报错
**原因**: 模拟器不支持相机功能

**解决方案**: 
1. 点击工具栏"预览"按钮
2. 使用手机微信扫码
3. 在真机上测试相机功能

### Q3: 照片保存失败
**原因**: 未授权相册权限

**解决方案**: 
1. 在手机上打开小程序
2. 点击右上角"..."
3. 选择"设置"
4. 开启"保存到相册"权限

### Q4: 地图导航无法使用
**原因**: 未授权位置权限

**解决方案**: 
1. 在手机上打开小程序
2. 点击右上角"..."
3. 选择"设置"
4. 开启"位置信息"权限

## 发布流程

### 1. 注册小程序账号
1. 访问[微信公众平台](https://mp.weixin.qq.com)
2. 注册小程序账号
3. 完成主体认证（个人或企业）
4. 获取AppID

### 2. 配置AppID
在`project.config.json`中修改：
```json
{
  "appid": "你的AppID"
}
```

### 3. 上传代码
1. 在微信开发者工具中点击"上传"
2. 填写版本号（如1.0.0）和项目备注
3. 点击"上传"

### 4. 提交审核
1. 登录[微信公众平台](https://mp.weixin.qq.com)
2. 进入"版本管理"
3. 选择刚上传的版本
4. 填写审核信息：
   - 小程序名称：Sanmu AI
   - 小程序简介：专业摄影AI智能修图
   - 服务类目：工具 > 图片美化
5. 提交审核（通常1-7天）

### 5. 发布上线
1. 审核通过后会收到通知
2. 登录微信公众平台
3. 进入"版本管理"
4. 点击"发布"按钮
5. 小程序正式上线

## 性能优化建议

### 1. 图片优化
- 使用webp格式（体积更小）
- 压缩图片质量（建议80%）
- 使用CDN加速

### 2. 代码优化
- 避免频繁setData
- 使用防抖和节流
- 懒加载图片

### 3. 体验优化
- 添加骨架屏
- 添加加载动画
- 优化交互反馈

## 技术支持

- **GitHub**: https://github.com/Tsaojason-cao/sanmu-miniprogram
- **官网**: https://tsaojason-cao.github.io/sanmu-screenshots-showcase/
- **微信开发者社区**: https://developers.weixin.qq.com/community/

## 许可证

© 2025 Sanmu AI. All rights reserved.
